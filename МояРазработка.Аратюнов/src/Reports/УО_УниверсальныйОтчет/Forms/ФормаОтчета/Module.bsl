#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Элементы.ФормаВыбратьСхему.Видимость = НЕ Параметры.КонтекстныйРежим;
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	// Вставить содержимое обработчика.
КонецПроцедуры

#КонецОбласти 

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ВыбратьСхему(Команда)

	ОбработчикВыбора = Новый ОписаниеОповещения("ПослеВыбораСхемы", ЭтотОбъект);
	ОткрытьФорму("Отчет.УО_УниверсальныйОтчет.Форма.ВыборСхемы",,ЭтотОбъект,,,,ОбработчикВыбора);
//	ОбработчикВыбора = Новый ОписаниеОповещения("ПослеВыбораСхемы", ЭтотОбъект);
//	ОткрытьФорму("Справочник.УО_РегистрацияСхемы.ФормаВыбора",,ЭтотОбъект,,,,ОбработчикВыбора);

КонецПроцедуры

#КонецОбласти 

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура ПослеВыбораСхемы(Результат, ДопПараметры) Экспорт
	
	// Блок проверки возможности исполнения алгоритма действия
	Если Результат = Неопределено ИЛИ Результат = КодВозвратаДиалога.Отмена Тогда
		Возврат;
	КонецЕсли;

//	ИдентификаторСхемы = Строка(РегистрацияСхемы.УникальныйИдентификатор());
//	Если ИдентификаторСхемы = КлючНазначенияИспользования Тогда
//		Возврат;
//	КонецЕсли;

	// Блок алгоритма действия
	// КлючНазначенияИспользования - позволяет создавать свой экземпляр настроек для каждой формы
	Закрыть();
	ОткрытьФорму("Отчет.УО_УниверсальныйОтчет.ФормаОбъекта",
		Новый Структура("КлючНазначенияИспользования", Результат));
	
    // Открытие нового экземпляра этой же формы
//	ОткрытьФорму("Отчет.УО_УниверсальныйОтчет.Форма", 
//		Новый Структура("КлючНазначенияИспользования", ИдентификаторСхемы));
	
КонецПроцедуры

#КонецОбласти 

